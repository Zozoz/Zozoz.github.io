<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Django快速搭建一个网站 | Newbie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Django介绍参考文档：Django官方文档   官方文档中文翻译
Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：
project_name/">
<meta property="og:type" content="article">
<meta property="og:title" content="Django快速搭建一个网站">
<meta property="og:url" content="http://zozoz.github.io/2015/08/28/django快速搭建一个网站/index.html">
<meta property="og:site_name" content="Newbie">
<meta property="og:description" content="Django介绍参考文档：Django官方文档   官方文档中文翻译
Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：
project_name/">
<meta property="og:image" content="http://7xnepc.com1.z0.glb.clouddn.com/流程图.png">
<meta property="og:image" content="http://7xnepc.com1.z0.glb.clouddn.com/echarts-1.png">
<meta property="og:updated_time" content="2016-02-25T12:24:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Django快速搭建一个网站">
<meta name="twitter:description" content="Django介绍参考文档：Django官方文档   官方文档中文翻译
Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：
project_name/">
  
    <link rel="alternate" href="/atom.xml" title="Newbie" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Newbie</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zozoz.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-django快速搭建一个网站" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/28/django快速搭建一个网站/" class="article-date">
  <time datetime="2015-08-28T06:23:11.000Z" itemprop="datePublished">2015-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Django快速搭建一个网站
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Django介绍"><a href="#Django介绍" class="headerlink" title="Django介绍"></a>Django介绍</h2><p>参考文档：<br><a href="https://docs.djangoproject.com/en/1.8/" target="_blank" rel="external">Django官方文档</a>   <a href="http://python.usyiyi.cn/django/index.html" target="_blank" rel="external">官方文档中文翻译</a></p>
<p>Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,<br>所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：</p>
<pre><code>project_name/
    project_name/
        __init__.py
        settings.py
        urls.py
        *views.py
        wsgi.py
    manage.py
    *static/
        base/
            css/
                bootstrap.min.css
            js/
                bootstrap.min.js
    *templates/
        index.html
        base.html
        app_name/
            show.html
    *app_name/
        __init__.py
        admin.py
        urls.py
        views.py
        models.py
        forms.py
        tests.py
</code></pre><p>模型(Model),即数据存取层———处理与数据相关的所有事务：如何存取、如何验证有效性、包含哪些行为以及数据之间的关系等.<br>模板(Template),即表现层 ———处理与表现相关的决定：如何在页面或者其他类型文档中进行显示.<br>视图(View),即业务逻辑层 ———存取模型及调取恰当模板的相关逻辑，模型与模板之间的桥梁.</p>
<h5 id="Django-如何处理一个请求"><a href="#Django-如何处理一个请求" class="headerlink" title="Django 如何处理一个请求"></a>Django 如何处理一个请求</h5><p>当一个用户请求Django站点的一个页面，下面是Django系统决定执行哪个Python代码使用的算法：</p>
<ol>
<li>Django决定要使用的根URLconf模块。通常，这个值就是<strong>ROOT_URLCONF</strong>的设置.</li>
<li>Django加载该Python模块并寻找可用的<strong>urlpatterns</strong>它是<strong>django.conf.urls.url()</strong>实例的一个Python列表。</li>
<li>Django依次匹配每个URL模式，在与请求的URL匹配的第一个模式停下来。</li>
<li>一旦其中的一个正则表达式匹配上，Django将导入并调用给出的视图,它是一个简单的Python函数(或者一个基于类的视图)。视图将获得如下参数:<ul>
<li>一个HttpRequest 实例。</li>
<li>如果匹配的正则表达式没有返回命名的组，那么正则表达式匹配的内容将作为位置参数提供给视图。</li>
<li>关键字参数由正则表达式匹配的命名组组成，但是可以被<strong>django.conf.urls.url()</strong>的可选参数kwargs覆盖。<br>如果视图返回时调用了模板，调用<code>templates</code>下面的html进行渲染展示。</li>
</ul>
</li>
<li>如果没有匹配到正则表达式，或者如果过程中抛出一个异常，Django将调用一个适当的错误处理视图。</li>
</ol>
<p><img src="http://7xnepc.com1.z0.glb.clouddn.com/流程图.png" alt="流程图 0.1"></p>
<h2 id="快速搭建一个网站"><a href="#快速搭建一个网站" class="headerlink" title="快速搭建一个网站"></a>快速搭建一个网站</h2><h3 id="安装Python和Django"><a href="#安装Python和Django" class="headerlink" title="安装Python和Django"></a>安装Python和Django</h3><p>Python 2.7.*版本，Django 1.8.3版本，由于系统的不同，安装过程稍有不同。</p>
<h3 id="网站搭建"><a href="#网站搭建" class="headerlink" title="网站搭建"></a>网站搭建</h3><h4 id="新建一个工程"><a href="#新建一个工程" class="headerlink" title="新建一个工程"></a>新建一个工程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject mysite</span><br></pre></td></tr></table></figure>
<p>目录结构如上面所示，然后我们在<strong>mysite</strong>下面新建一个<code>views.py</code>视图文件，在视图文件中定义我们的视图.<br><code>mysite/views.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render&#10;&#10;&#10;def index(request):&#10;    return render(request, &#39;index.html&#39;)</span><br></pre></td></tr></table></figure></p>
<p>在<code>templates</code>目录下面新建<code>index.html</code>文件.<br><code>templates/index.html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;html&#62;&#10;&#60;head&#62;&#60;title&#62;My First Website!&#60;/title&#62;&#60;/head&#62;&#10;&#60;body&#62;&#60;p&#62;Hello World!&#60;/p&#62;&#60;/body&#62;&#10;&#60;/html&#62;</span><br></pre></td></tr></table></figure></p>
<p>需要在<code>settings.py</code>中设置模板的路径.<br><code>mysite/settings.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [&#10;    &#123;&#10;        &#39;DIRS&#39;: [os.path.join(BASE_DIR, &#39;templates&#39;)],&#10;    &#125;,&#10;]</span><br></pre></td></tr></table></figure></p>
<p>在<code>urls.py</code>中配置URL访问规则.<br><code>mysite/urls.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from django.conf.urls import patterns, url&#10;from . import views&#10;&#10;&#10;urlpatterns = patterns(&#39;&#39;,&#10;    url(r&#39;^$&#39;, views.index, name=&#39;index&#39;),&#10;)</span><br></pre></td></tr></table></figure></p>
<p>启动本地Django服务器运行我们的网站程序.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver 8000</span><br></pre></td></tr></table></figure></p>
<p>在浏览器中打开<code>localhost:8000</code>会看到我们的欢迎页面.</p>
<h4 id="在工程下面添加一个应用"><a href="#在工程下面添加一个应用" class="headerlink" title="在工程下面添加一个应用"></a>在工程下面添加一个应用</h4><p>一个网站可能分为不同的模块，每个模块来实现不同的功能，对于每一个模块我们类比于Django中的APP，每一个APP用来实现不同的功能，使框架低耦合。<br>新建一个应用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp app_name</span><br></pre></td></tr></table></figure></p>
<p>然后在<strong>project_name/settings.py</strong>中包含这个应用.<br><code>settings.py</code></p>
<pre><code>INSTALLED_APPS = (
    ...,
    &apos;app_name&apos;,
)
</code></pre><p>运行<code>python manage.py startapp sample</code>新建一个名为<strong>sample</strong>的应用，来展示我们的例子.</p>
<h4 id="URL调度器"><a href="#URL调度器" class="headerlink" title="URL调度器"></a>URL调度器</h4><p>官方文档 <a href="http://python.usyiyi.cn/django/topics/http/urls.html#error-handling" target="_blank" rel="external">中文</a> <a href="https://docs.djangoproject.com/en/1.8/topics/http/urls/" target="_blank" rel="external">英文</a><br>简洁、优雅的URL模式在高质量的Web应用中是非常重要的细节。Django中为了给一个应用设计URL，需要创建一个Python模块，通常称为<strong>URLconf</strong>(URL configuration,就是前面的<code>urls.py</code>).<br>这个模块是纯粹的Python代码，它包含URL模式（简单的正则表达式）到Python函数或类（<code>views.py</code>中的函数或类）的简单映射。<br>下面是一个简单的例子：<br><code>mysite/urls.py</code></p>
<pre><code>from django.conf.urls import include, url
from . import views
urlpatterns = [
    # url(r&apos;^admin/&apos;, include(admin.site.urls)),
    url(r&apos;^$&apos;, views.index, name=&quot;index&quot;),
    url(r&apos;^sample/&apos;, include(&apos;sample.urls&apos;, namespace=&quot;sample&quot;)),
]
</code></pre><p><code>sample/urls.py</code></p>
<pre><code>from django.conf.urls import url
from . import views
urlpatterns = [
    url(r&apos;^$&apos;, views.index, name=&apos;index&apos;),
    url(r&apos;^([0-9]{2})$&apos;, views.show_1, name=&apos;show_1&apos;),
    url(r&apos;^(?P&lt;year&gt;[0-9]{4})&apos;, views.show_2, name=&apos;show_2&apos;),
]
</code></pre><ul>
<li>在任何时候,urlpatterns都可以包含其他URLconf模块。这实际上是将包含的URL放置在此处。例如在上面中，把APP中的URLconf包含在<strong>ROOT_URLCONF</strong>中。</li>
<li>上面的示例中使用简单的正则表达式对URL进行匹配，符合Python的正则表达式语法。例如，可以通过圆括号来捕获URL中的值并以位置参数传递给视图，通过命名正则表达式组(?P&lt;name&gt;pattern)，其中name是组的名字，pattern是要匹配的模式，来传递命名参数给视图。</li>
<li>匹配按照顺序从上往下进行，直到匹配到满足的结束。</li>
</ul>
<h4 id="模板语言"><a href="#模板语言" class="headerlink" title="模板语言"></a>模板语言</h4><p>Django的模板系统将页面的设计从Python中分离出来，前台页面只需接收后台视图传递过来的数据，动态地展示页面。<br><code>templates/navbar.html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;html&#62;&#10;&#60;head&#62;&#60;title&#62;&#123;% block title %&#125;&#123;% endblock %&#125;&#60;/title&#62;&#60;/head&#62;&#10;&#60;body&#62;&#10;&#123;% block content %&#125;&#123;% endblock content %&#125;&#10;&#60;/body&#62;&#10;&#60;/html&#62;</span><br></pre></td></tr></table></figure></p>
<p><code>templates/sample/show.html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#34;navbar.html&#34; %&#125;&#10;&#123;% block title %&#125; Sample Page &#123;% endblock %&#125;&#10;&#123;% block content %&#125;&#10;&#10;&#123;% if index %&#125;&#10;    &#60;p&#62;I am sample!&#60;/p&#62;&#10;&#123;% else%&#125;&#10;    &#123;% if value|length_is:&#34;4&#34; %&#125;&#10;        &#60;p&#62;The year is &#123;&#123; value &#125;&#125;&#60;/p&#62;&#10;    &#123;% elif value|length_is:&#34;2&#34; %&#125;&#10;        &#60;p&#62;The month is &#123;&#123; value &#125;&#125;&#60;/p&#62;&#10;    &#123;% endif %&#125;&#10;&#123;% endif %&#125;&#10;&#60;p&#62;My name is &#123;&#123; info.name &#125;&#125;, enrolled in &#123;&#123; info.enroll &#125;&#125;.&#60;/p&#62;&#10;&#123;# I am comments. #&#125;&#10;&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li> 表示一个变量,当模版引擎遇到一个变量，它将计算这个变量，然后用结果替换掉它本身。变量的命名包括任何字母数字以及下划线 (“_”)的组合。点(“.”) 也在会变量部分中出现，不过它有特殊的含义，当模板系统遇到点(“.”)，它将以这样的顺序查询：<ul>
<li>字典查询</li>
<li>属性或方法查询</li>
<li>数字索引查询</li>
</ul>
</li>
<li><figure class="highlight"><figcaption><span>tag %&#125;``` 表示一个标签，Django自带了大约24个内置的模版标签。可以在[内置标签参考手册](http://python.usyiyi.cn/django/ref/templates/builtins.html#ref-templates-builtins-tags)中阅读全部关于它们的内容。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">- &#123;&#123; value|length_is:&#34;4&#34; &#125;&#125; &#34920;&#31034;&#19968;&#20010;&#36807;&#28388;&#22120;,Django&#25552;&#20379;&#20102;&#22823;&#32422;&#20845;&#21313;&#20010;&#20869;&#32622;&#30340;&#27169;&#29256;&#36807;&#28388;&#22120;&#12290;&#20320;&#21487;&#20197;&#22312;[&#20869;&#32622;&#36807;&#28388;&#22120;&#21442;&#32771;&#25163;&#20876;](http://python.usyiyi.cn/django/ref/templates/builtins.html#ref-templates-builtins-filters)&#20013;&#38405;&#35835;&#20840;&#37096;&#20851;&#20110;&#23427;&#20204;&#30340;&#20449;&#24687;&#12290;&#10;- ```&#123;#  #&#125;``` &#34920;&#31034;&#19968;&#20010;&#21333;&#34892;&#27880;&#37322;&#65292; ```&#123;% comment %&#125;```&#21644;```&#123;% endcomment %&#125;```&#34920;&#31034;&#22810;&#34892;&#27880;&#37322;&#65292;&#20043;&#38388;&#30340;&#20869;&#23481;&#20250;&#34987;&#24573;&#30053;&#12290;&#10;- ```&#123;% csrf_token %&#125;``` &#26159;&#19968;&#20010;&#36328;&#31449;&#35831;&#27714;&#20266;&#36896;&#20445;&#25252;&#26631;&#31614;&#65292;&#22312;&#25552;&#20132;&#34920;&#21333;&#20013;&#38656;&#35201;&#28155;&#21152;&#12290;&#10;- ```&#123;% extends &#34;*.html&#34; %&#125;``` &#34920;&#31034;&#19968;&#20010;&#27169;&#26495;&#32487;&#25215;&#26631;&#31614;&#65292;&#24403;&#27169;&#26495;&#31995;&#32479;&#22788;&#29702;&#36825;&#20010;&#27169;&#26495;&#26102;&#65292;&#39318;&#20808;&#65292;&#23427;&#23558;&#23450;&#20301;&#29238;&#27169;&#26495;&#65292;&#24182;&#29992;&#23376;&#27169;&#26495;&#20013;&#30340;&#20869;&#23481;&#26469;&#26367;&#25442;&#29238;&#27169;&#26495;&#20013;&#30340;block&#26631;&#31614;&#20013;&#30340;&#20869;&#23481;&#12290;&#10;&#10;&#10;#### &#35270;&#22270;&#27169;&#22359;&#10;&#19968;&#20010;&#35270;&#22270;&#20989;&#25968;&#65292;&#31616;&#31216;&#35270;&#22270;&#65292;&#26159;&#19968;&#20010;&#31616;&#21333;&#30340;Python &#20989;&#25968;&#65292;&#23427;&#25509;&#21463;Web&#35831;&#27714;&#24182;&#19988;&#36820;&#22238;Web&#21709;&#24212;&#12290;&#21709;&#24212;&#21487;&#20197;&#26159;&#19968;&#24352;&#32593;&#39029;&#30340;HTML&#20869;&#23481;&#65292;&#19968;&#20010;&#37325;&#23450;&#21521;&#65292;&#19968;&#20010;404&#38169;&#35823;&#65292;&#19968;&#20010;XML&#25991;&#26723;&#65292;&#25110;&#32773;&#19968;&#24352;&#22270;&#29255;. . . &#26159;&#20219;&#20309;&#19996;&#35199;&#37117;&#21487;&#20197;&#12290;&#26080;&#35770;&#35270;&#22270;&#26412;&#36523;&#21253;&#21547;&#20160;&#20040;&#36923;&#36753;&#65292;&#37117;&#35201;&#36820;&#22238;&#21709;&#24212;&#12290;&#20195;&#30721;&#20889;&#22312;&#21738;&#37324;&#20063;&#26080;&#25152;&#35859;&#65292;&#21482;&#35201;&#23427;&#22312;&#20320;&#30340;Python&#30446;&#24405;&#19979;&#38754;&#12290;&#38500;&#27492;&#20043;&#22806;&#27809;&#26377;&#26356;&#22810;&#30340;&#35201;&#27714;&#20102;&#8212;&#8212;&#21487;&#20197;&#35828;&#8220;&#27809;&#26377;&#20160;&#20040;&#31070;&#22855;&#30340;&#22320;&#26041;&#8221;&#12290;&#20026;&#20102;&#33021;&#22815;&#25226;&#20195;&#30721;&#25918;&#22312;&#26576;&#20010;&#22320;&#26041;&#65292;&#24815;&#20363;&#26159;&#25226;&#35270;&#22270;&#25918;&#22312;&#21483;&#20570;views.py&#30340;&#25991;&#20214;&#20013;&#65292;&#28982;&#21518;&#25226;&#23427;&#25918;&#21040;&#20320;&#30340;&#39033;&#30446;&#25110;&#32773;&#24212;&#29992;&#30446;&#24405;&#37324;&#12290;&#10;`sample/views.py`&#10;&#10;    from django.shortcuts import render&#10;&#10;&#10;    def index(request):&#10;        return render(request, &#39;sample/show.html&#39;, &#123;&#10;            &#39;index&#39;: True&#10;        &#125;)&#10;&#10;    def show_1(request, month):&#10;        return render(request, &#39;sample/show.html&#39;, &#123;&#10;            &#39;value&#39;: month&#10;        &#125;)&#10;&#10;    def show_2(request, year):&#10;        info = &#123;&#39;name&#39;: &#39;newbie&#39;, &#39;enroll&#39;: year&#125;&#10;        return render(request, &#39;sample/show.html&#39;, &#123;&#10;            &#39;value&#39;: year,&#10;            &#39;info&#39;: info,&#10;        &#125;)&#10;&#10;&#35270;&#22270;&#27169;&#22359;&#20027;&#35201;&#26159;&#36827;&#34892;&#19994;&#21153;&#36923;&#36753;&#30340;&#22788;&#29702;&#65292;&#28982;&#21518;&#36820;&#22238;&#19968;&#20010;__HttpResponse__&#23545;&#35937;&#12290;&#10;&#20027;&#35201;&#20171;&#32461;&#19968;&#19979;&#34920;&#21333;&#12290;&#10;##### [HTML&#34920;&#21333;](http://python.usyiyi.cn/django/topics/forms/index.html)&#10;&#22312;HTML&#20013;&#65292;&#34920;&#21333;&#26159;&#20301;&#20110;&#38;lt;form&#38;gt;...&#38;lt;/form&#38;gt; &#20043;&#38388;&#30340;&#20803;&#32032;&#30340;&#38598;&#21512;&#65292;&#23427;&#20204;&#20801;&#35768;&#35775;&#38382;&#32773;&#36755;&#20837;&#25991;&#26412;&#12289;&#36873;&#25321;&#36873;&#39033;&#12289;&#25805;&#20316;&#23545;&#35937;&#21644;&#25511;&#21046;&#31561;&#31561;&#65292;&#28982;&#21518;&#23558;&#20449;&#24687;&#21457;&#36865;&#22238;&#26381;&#21153;&#22120;&#12290;&#10;&#22788;&#29702;&#34920;&#21333;&#26159;&#19968;&#20214;&#24456;&#22797;&#26434;&#30340;&#20107;&#24773;&#12290;&#32771;&#34385;&#19968;&#19979;Django &#30340;Admin &#31449;&#28857;&#65292;&#19981;&#21516;&#31867;&#22411;&#30340;&#22823;&#37327;&#25968;&#25454;&#39033;&#38656;&#35201;&#22312;&#19968;&#20010;&#34920;&#21333;&#20013;&#20934;&#22791;&#22909;&#12289;&#28210;&#26579;&#25104;HTML&#12289;&#20351;&#29992;&#19968;&#20010;&#26041;&#20415;&#30340;&#30028;&#38754;&#32534;&#36753;&#12289;&#36820;&#22238;&#32473;&#26381;&#21153;&#22120;&#12289;&#39564;&#35777;&#24182;&#28165;&#38500;&#65292;&#28982;&#21518;&#20445;&#23384;&#25110;&#32773;&#21521;&#21518;&#32487;&#32493;&#22788;&#29702;&#12290;&#10;&#10;Django &#30340;&#34920;&#21333;&#21151;&#33021;&#21487;&#20197;&#31616;&#21270;&#24182;&#33258;&#21160;&#21270;&#22823;&#37096;&#20998;&#36825;&#20123;&#24037;&#20316;&#65292;&#32780;&#19988;&#36824;&#21487;&#20197;&#27604;&#22823;&#37096;&#20998;&#31243;&#24207;&#21592;&#33258;&#24049;&#25152;&#32534;&#20889;&#30340;&#20195;&#30721;&#26356;&#23433;&#20840;&#12290;&#10;&#10;Django &#20250;&#22788;&#29702;&#34920;&#21333;&#24037;&#20316;&#20013;&#30340;&#19977;&#20010;&#26174;&#33879;&#19981;&#21516;&#30340;&#37096;&#20998;&#65306;&#10;&#10;- &#20934;&#22791;&#24182;&#37325;&#26032;&#26500;&#36896;&#25968;&#25454;&#10;- &#20026;&#25968;&#25454;&#21019;&#24314;HTML &#34920;&#21333;&#10;- &#25509;&#25910;&#24182;&#22788;&#29702;&#23458;&#25143;&#31471;&#25552;&#20132;&#30340;&#34920;&#21333;&#21644;&#25968;&#25454;&#10;&#21487;&#20197;&#25163;&#24037;&#32534;&#20889;&#20195;&#30721;&#26469;&#23454;&#29616;&#65292;&#20294;&#26159;Django &#21487;&#20197;&#24110;&#20320;&#23436;&#25104;&#25152;&#26377;&#36825;&#20123;&#24037;&#20316;&#12290;&#10;&#10;&#22312;Django&#20013;&#26500;&#24314;&#19968;&#20010;&#34920;&#21333;&#10;`sample/forms.py`</span><br></pre></td></tr></table></figure>
<p>  from django import forms</p>
</li>
</ul>
<pre><code>class NameForm（forms.Form):
    your_name = forms.CharField(label=&apos;Your name&apos;, max_length=100, required=True)
    age = forms.IntegerField(initial=0)
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;&#34920;&#21333;&#31995;&#32479;&#30340;&#26680;&#24515;&#37096;&#20998;&#26159;Django&#30340;[Form](http://python.usyiyi.cn/django/ref/forms/fields.html)&#31867;.Django &#30340;&#27169;&#22411;&#25551;&#36848;&#19968;&#20010;&#23545;&#35937;&#30340;&#36923;&#36753;&#32467;&#26500;&#12289;&#34892;&#20026;&#20197;&#21450;&#23637;&#29616;&#32473;&#25105;&#20204;&#30340;&#26041;&#24335;&#65292;&#19982;&#27492;&#31867;&#20284;&#65292;Form &#31867;&#25551;&#36848;&#19968;&#20010;&#34920;&#21333;&#24182;&#20915;&#23450;&#23427;&#22914;&#20309;&#24037;&#20316;&#21644;&#23637;&#29616;.&#10;&#23601;&#20687;&#27169;&#22411;&#31867;&#30340;&#23646;&#24615;&#26144;&#23556;&#21040;&#25968;&#25454;&#24211;&#30340;&#23646;&#24615;&#19968;&#26679;&#65292;&#34920;&#21333;&#31867;&#30340;[&#23383;&#27573;](http://python.usyiyi.cn/django/ref/forms/fields.html)&#20250;&#26144;&#23556;&#21040;HTML &#30340;&#38;lt;input&#38;gt;&#34920;&#21333;&#30340;&#20803;&#32032;.&#10;&#34920;&#21333;&#30340;&#23383;&#27573;&#26412;&#36523;&#20063;&#26159;&#31867;&#65307;&#23427;&#20204;&#31649;&#29702;&#34920;&#21333;&#30340;&#25968;&#25454;&#24182;&#22312;&#34920;&#21333;&#25552;&#20132;&#26102;&#36827;&#34892;&#39564;&#35777;&#12290;&#10;&#10;`templates/sample/form.html`&#10;&#10;&#123;% raw %&#125;&#10;&#10;    &#123;% extends &#34;base.html&#34; %&#125;&#10;    &#123;% block title %&#125; Sample Page &#123;% endblock %&#125;&#10;    &#123;% block content %&#125;&#10;&#10;    &#60;form action=&#34;&#123;% url &#39;sample:get_name&#39; %&#125;&#34; method=&#34;post&#34;&#62;&#10;        &#123;% csrf_token %&#125;&#10;        &#123;&#123; form &#125;&#125;&#10;        &#60;input type=&#34;submit&#34; value=&#34;Submit&#34; /&#62;&#10;    &#60;/form&#62;&#10;&#10;    &#123;% endblock %&#125;&#10;&#10;&#123;% endraw %&#125;&#10;&#10;`sample/views.py`</span><br></pre></td></tr></table></figure>
<pre><code>from .forms import NameForm


def get_name(request):
    # if this is a POST request we need to process the form data
    if request.method == &apos;POST&apos;:
        # create a form instance and populate it with data from the request:
        form = NameForm(request.POST)
        # check whether it&apos;s valid:
        if form.is_valid():
            name = form.cleaned_data[&apos;your_name&apos;]
            age = form.cleaned_data[&apos;age&apos;]
            return render(request, &apos;sample/success.html&apos;, {
                    &apos;name&apos;: name,
                    &apos;age&apos;: age
                })
    else:
        form = NameForm()
    return render(request, &apos;sample/form.html&apos;, {&apos;form&apos;: form})
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;`sample/success.html`&#10;&#10;&#123;% raw %&#125;&#10;&#10;    &#60;html&#62;&#10;        &#60;head&#62;&#60;title&#62;Success&#60;/title&#62;title&#62;&#60;/head&#62;&#10;         &#60;body&#62;&#10;            &#60;p&#62;Success!&#60;/p&#62;&#10;            &#60;p&#62;Your name is &#123;&#123; name &#125;&#125;, aged &#123;&#123; age &#125;&#125;.&#60;/p&#62;&#10;            &#60;a href=&#39;&#123;% url &#39;sample:get_name&#39; %&#125;&#39;&#62;&#36820;&#22238;&#60;/a&#62;&#10;         &#60;/body&#62;&#10;    &#60;/html&#62;&#10;&#10;&#123;% endraw %&#125;&#10;&#10;&#10;&#10;#### &#24314;&#31435;&#25968;&#25454;&#24211;&#36830;&#25509;&#10;&#30001;&#20110;&#25105;&#20204;&#38656;&#35201;&#20174;&#25968;&#25454;&#24211;&#20013;&#35835;&#21462;&#25105;&#20204;&#25235;&#21462;&#30340;&#28909;&#28857;&#26032;&#38395;&#20449;&#24687;&#65292;&#25152;&#20197;&#38656;&#35201;&#36830;&#25509;&#25968;&#25454;&#24211;&#65292;&#36825;&#37324;&#25105;&#20204;&#37319;&#29992;MYSQL.&#10;&#22312;__project_name/settings.py__&#20013;&#40664;&#35748;&#30340;&#25968;&#25454;&#24211;&#26159;Python&#33258;&#24102;&#30340;SQLite3&#65292;&#25152;&#20197;&#25105;&#20204;&#38656;&#35201;&#20462;&#25913;&#19968;&#19979;&#37197;&#32622;.&#10;&#10;`settings.py`&#10;&#10;    DATABASES = &#123;&#10;        &#39;default&#39;: &#123;&#10;            &#39;ENGINE&#39;: &#39;django.db.backends.mysql&#39;, # database engine&#10;            &#39;NAME&#39;: &#39;nust_visual_platform&#39;, # schema name&#10;            &#39;USER&#39;: &#39;root&#39;, # mysql username&#10;            &#39;HOST&#39;: &#39;localhost&#39;, # mysql host&#10;            &#39;PASSWORD&#39;: &#39;&#39;, # mysql password&#10;            &#39;PORT&#39;: &#39;3306&#39;&#125; # mysql port&#10;    &#125;&#10;&#10;&#25105;&#20204;&#38656;&#35201;&#22312;MYSQL&#20013;&#26032;&#24314;&#19968;&#20010;schema&#65292;&#21097;&#19979;&#30340;&#25152;&#26377;&#23545;&#25968;&#25454;&#24211;&#30340;&#25805;&#20316;&#37117;&#19981;&#38656;&#35201;&#25105;&#20204;&#25163;&#21160;&#22788;&#29702;&#65292;Django&#20250;&#20026;&#25105;&#20204;&#20195;&#21171;.&#10;&#10;&#26032;&#24314;&#19968;&#20010;&#25968;&#25454;&#24211;&#34920;&#65306;&#10;1. &#22312;`wangyi`&#19979;&#38754;&#26032;&#24314;`models.py`&#27169;&#22411;&#25991;&#20214;&#65292;&#28982;&#21518;&#22312;&#25991;&#20214;&#20013;&#23450;&#20041;&#25105;&#20204;&#30340;&#25968;&#25454;&#24211;&#34920;.</span><br></pre></td></tr></table></figure>
<pre><code>from django.db import models


class WangyiArticle（models.Model):
    docid = models.CharField(primary_key=True, max_length=50)
    votecount = models.IntegerField(default=0)
    content = models.TextField()
    ptime = models.DateTimeField()
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#20855;&#20307;&#32454;&#33410;&#21487;&#26597;&#30475;Django&#25552;&#20379;&#30340;&#20840;&#37096;&#27169;&#22411;&#23383;&#27573;&#30340;[&#23383;&#27573;&#36873;&#39033;](http://python.usyiyi.cn/django/ref/models/fields.html#field-options)&#21644;[&#23383;&#27573;&#31867;&#22411;](http://python.usyiyi.cn/django/ref/models/fields.html#field-types)&#30340;API&#12290;&#10;&#10;2.&#36816;&#34892;&#21629;&#20196;&#26469;&#29983;&#25104;&#20135;&#29983;&#25968;&#25454;&#34920;&#30340;SQL&#20195;&#30721;.</span><br></pre></td></tr></table></figure>
</code></pre><p>python manage.py makemigrations wangyi<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#10;&#25105;&#20204;&#21487;&#20197;&#30475;&#21040;&#31867;&#20284;&#19979;&#38754;&#30340;&#20449;&#24687;&#65306;&#10;&#10;    Migrations for &#39;wangyi&#39;:&#10;        0001_initial.py:&#10;            - Create model WangyiArticle&#10;&#10;3.&#22312;&#25968;&#25454;&#24211;&#20013;&#29983;&#25104;&#25968;&#25454;&#34920;</span><br></pre></td></tr></table></figure></p>
<p>python manage.py migrate wangyi<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#22914;&#26524;&#20320;&#30340;&#25968;&#25454;&#24211;&#20013;&#20854;&#23454;&#24050;&#32463;&#26377;&#36825;&#24352;&#34920;&#23384;&#22312;&#20102;&#65292;&#23601;&#19981;&#35201;&#25191;&#34892;SQL&#21435;&#25913;&#21464;&#25968;&#25454;&#34920;&#65292;&#36825;&#26102;&#38656;&#35201;&#36816;&#34892;</span><br></pre></td></tr></table></figure></p>
<p>python manage.py migrate wangyi –fake-initial<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4.&#23545;&#25968;&#25454;&#34920;&#36827;&#34892;URD&#25805;&#20316;&#10;&#23545;&#25968;&#25454;&#34920;&#30340;&#25805;&#20316;&#21487;&#20197;&#22312;`models.py`&#20013;&#20063;&#21487;&#20197;&#22312;`views.py`&#20013;&#65292;&#36825;&#37324;&#25105;&#20204;&#21482;&#20171;&#32461;&#22914;&#20309;&#22312;`views.py`&#20013;&#25805;&#20316;&#25968;&#25454;&#34920;.&#10;&#36941;&#21382;&#25968;&#25454;&#34920;&#65306;</span><br></pre></td></tr></table></figure></p>
<p>WangyiArticle.objects<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#23545;&#33719;&#21462;&#30340;&#25968;&#25454;&#36827;&#34892;&#31579;&#36873;&#65306;</span><br></pre></td></tr></table></figure></p>
<p>WangyiArticle.objects.filter(ptime<strong>lt=today)<br>                     .filter(mtime</strong>gel=yesterday)<br>                     .filter(parent_id=’’)<br>                     .order_by(‘-votecount’)[:10]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Django&#30340;ORM(Object Relational Mapping)&#21151;&#33021;&#24456;&#24378;&#22823;&#65292;&#20855;&#20307;&#30340;&#20854;&#20182;&#32454;&#33410;&#21487;&#20197;&#21442;&#32771;[&#23448;&#26041;&#25991;&#26723;](https://docs.djangoproject.com/en/1.8/topics/db/)&#10;&#10;&#10;#### &#33258;&#21160;&#20998;&#39029;&#21151;&#33021;&#10;&#10;##### 1. &#23433;&#35013;&#10;```shell&#10; pip install python-pagination</span><br></pre></td></tr></table></figure></p>
<h5 id="2-配置"><a href="#2-配置" class="headerlink" title="2. 配置"></a>2. 配置</h5><p><a href="https://pypi.python.org/pypi/django-pagination" target="_blank" rel="external">参考官方文档</a></p>
<p>说明：django1.4开始，<code>TEMPLATE_CONTEXT_PROCESSORS</code>不显示在<code>settings.py</code>文件中，此时需要自己添加<br>在<code>settings.py</code>开头添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import django.conf.global_settings as DEFAULT_SETTINGS</span><br></pre></td></tr></table></figure></p>
<p>在配置最后添加<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATE_CONTEXT_PROCESSORS = DEFAULT_SETTINGS.TEMPLATE_CONTEXT_PROCESSORS + (</span><br><span class="line">    <span class="string">"django.contrib.auth.context_processors.auth"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.debug"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.i18n"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.media"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.request"</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h5 id="3-修改默认样式"><a href="#3-修改默认样式" class="headerlink" title="3. 修改默认样式"></a>3. 修改默认样式</h5><p>将<code>site-packages/pagination/templates/pagination/pagination.html</code>文件复制<br>到<code>your_own_templates/pagination/pagination.html</code>，然后修改这个文件就可以了.</p>
<h5 id="4-参阅资料"><a href="#4-参阅资料" class="headerlink" title="4. 参阅资料"></a>4. 参阅资料</h5><p><a href="http://www.django-china.cn/topic/53/" target="_blank" rel="external">七部教你实现Django网站列表自动分页</a></p>
<h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><p><a href="http://v3.bootcss.com/" target="_blank" rel="external">中文文档</a> <a href="http://getbootstrap.com/" target="_blank" rel="external">英文文档</a></p>
<p>Bootstrap，来自 Twitter，是目前很受欢迎的前端框架。Bootstrap 是基于 HTML、CSS、JAVASCRIPT 的，它简洁灵活，使得 Web 开发更加快捷,是非专业网站开发人员优雅展示自己成果的利器。<br>Bootstrap是基于HTML5和CSS3开发的，它在jQuery的基础上进行了更为个性化和人性化的完善，形成一套自己独有的网站风格，并兼容大部分jQuery插件。<br>Bootstrap中包含了丰富的Web组件，根据这些组件，可以快速的搭建一个漂亮、功能完备的网站。其中包括以下组件：<br>下拉菜单、按钮组、按钮下拉菜单、导航、导航条、路径导航、分页、排版、缩略图、警告对话框、进度条、媒体对象等。</p>
<p>我们可以很方便的把Bootstrap加入到我们的网站之中，以上面的项目为例。<br><code>templates/base.html</code></p>


    <html>
        <head>
            <title>{% block title %}{% endblock %}</title>
            {% load staticfiles %}
            <link rel="stylesheet" type="text/css" href="{% static " base="" css="" bootstrap.min.css"="" %}"="">
            <script src="{% static " base="" js="" jquery-2.1.4.min.js"="" %}"=""></script>
            <script src="{% static " base="" js="" bootstrap.min.js"="" %}"=""></script>
        </head>
        <body>
            {% block content %}{% endblock content %}
        </body>
    


<p>只需要把bootstrap的css文件引入HTML中就可以使用它的CSS样式，但是必须在引入bootstrap.js文件之前先引入jQuery文件才能使用javascript插件。</p>
<p>在这里说一下Django的<a href="http://python.usyiyi.cn/django/intro/tutorial06.html" target="_blank" rel="external">静态文件</a>。<br>除了由服务器生成的HTML文件外，网页应用一般需要提供其它必要的文件 —— 比如图片文件、JavaScript脚本和CSS样式表 —— 来为用户呈现出一个完整的网站。 在Django中，我们将这些文件称为“静态文件”。<br>首先在mysite中创建一个static目录.Django将在那里查找静态文件，这与Django是如何在<code>templates</code>中寻找对应的模板文件的方式是一致的.需要在配置文件中设置静态文件查找目录.<br><code>settings.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">STATIC_URL = &#39;/static/&#39;&#10;STATICFILES_DIRS = (&#10;        os.getcwd() + &#39;/static/&#39;,&#10;)</span><br></pre></td></tr></table></figure></p>


{% load staticfiles %} 从staticfiles模板库加载{% static %} 模板标签。{% static %}模板标签会生成静态文件的绝对URL。


<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;!-- Standard button --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-default&#34;&#62;&#65288;&#40664;&#35748;&#26679;&#24335;&#65289;Default&#60;/button&#62;&#10;&#10;&#60;!-- Provides extra visual weight and identifies the primary action in a set of buttons --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-primary&#34;&#62;&#65288;&#39318;&#36873;&#39033;&#65289;Primary&#60;/button&#62;&#10;&#10;&#60;!-- Indicates a successful or positive action --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-success&#34;&#62;&#65288;&#25104;&#21151;&#65289;Success&#60;/button&#62;&#10;&#10;&#60;!-- Contextual button for informational alert messages --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-info&#34;&#62;&#65288;&#19968;&#33324;&#20449;&#24687;&#65289;Info&#60;/button&#62;&#10;&#10;&#60;!-- Indicates caution should be taken with this action --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-warning&#34;&#62;&#65288;&#35686;&#21578;&#65289;Warning&#60;/button&#62;&#10;&#10;&#60;!-- Indicates a dangerous or potentially negative action --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-danger&#34;&#62;&#65288;&#21361;&#38505;&#65289;Danger&#60;/button&#62;&#10;&#10;&#60;!-- Deemphasize a button by making it look like a link while maintaining button behavior --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-link&#34;&#62;&#65288;&#38142;&#25509;&#65289;Link&#60;/button&#62;</span><br></pre></td></tr></table></figure>
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Standard button -->
<button type="button" class="btn btn-default">（默认样式）Default</button>

<!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
<button type="button" class="btn btn-primary">（首选项）Primary</button>

<!-- Indicates a successful or positive action -->
<button type="button" class="btn btn-success">（成功）Success</button>

<!-- Contextual button for informational alert messages -->
<button type="button" class="btn btn-info">（一般信息）Info</button>

<!-- Indicates caution should be taken with this action -->
<button type="button" class="btn btn-warning">（警告）Warning</button>

<!-- Indicates a dangerous or potentially negative action -->
<button type="button" class="btn btn-danger">（危险）Danger</button>

<!-- Deemphasize a button by making it look like a link while maintaining button behavior -->
<button type="button" class="btn btn-link">（链接）Link</button>


<h2 id="E-charts"><a href="#E-charts" class="headerlink" title="E-charts"></a>E-charts</h2><p><a href="http://echarts.baidu.com/index.html" target="_blank" rel="external">官方文档</a></p>
<p>ECharts，缩写来自Enterprise Charts，商业级数据图表，一个纯Javascript的图表库，可以流畅的运行在PC和移动设备上，兼容当前绝大部分浏览器（IE6/7/8/9/10/11，chrome，firefox，Safari等），底层依赖轻量级的Canvas类库ZRender，提供直观，生动，可交互，可高度个性化定制的数据可视化图表。创新的拖拽重计算、数据视图、值域漫游等特性大大增强了用户体验，赋予了用户对数据进行挖掘、整合的能力。</p>
<p>支持折线图（区域图）、柱状图（条状图）、散点图（气泡图）、K线图、饼图（环形图）、雷达图（填充雷达图）、和弦图、力导向布局图、地图、仪表盘、漏斗图、事件河流图等12类图表，同时提供标题，详情气泡、图例、值域、数据区域、时间轴、工具箱等7个可交互组件，支持多图表、组件的联动和混搭展现。</p>
<p>以我们的项目为例，可以很方便的使用Echarts进行数据可视化。<br><code>templates/sample/echarts.html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends &#34;base.html&#34; %&#125;&#10;&#123;% block title%&#125;ECharts&#123;% endblock %&#125;&#10;&#123;% block content %&#125;&#10;&#60;!-- &#20026;ECharts&#20934;&#22791;&#19968;&#20010;&#20855;&#22791;&#22823;&#23567;&#65288;&#23485;&#39640;&#65289;&#30340;Dom --&#62;&#10;&#60;div id=&#34;main&#34; style=&#34;height:400px&#34;&#62;&#60;/div&#62;&#10;&#60;!-- ECharts&#25991;&#20214;&#24341;&#20837; --&#62;&#10;&#60;script src=&#34;http://echarts.baidu.com/build/dist/echarts-all.js&#34;&#62;&#60;/script&#62;&#10;&#60;script type=&#34;text/javascript&#34;&#62;&#10;// &#22522;&#20110;&#20934;&#22791;&#22909;&#30340;dom&#65292;&#21021;&#22987;&#21270;echarts&#22270;&#34920;&#10;var myChart = echarts.init(document.getElementById(&#39;main&#39;));&#10;&#10;var option = &#123;&#10;    tooltip: &#123;&#10;        show: true&#10;    &#125;,&#10;    legend: &#123;&#10;        data:[&#39;&#38144;&#37327;&#39;]&#10;    &#125;,&#10;    xAxis : [&#10;        &#123;&#10;            type : &#39;category&#39;,&#10;            data : [&#34;&#34924;&#34923;&#34;,&#34;&#32650;&#27611;&#34923;&#34;,&#34;&#38634;&#32442;&#34923;&#34;,&#34;&#35044;&#23376;&#34;,&#34;&#39640;&#36319;&#38795;&#34;,&#34;&#34972;&#23376;&#34;]&#10;        &#125;&#10;    ],&#10;    yAxis : [&#10;        &#123;&#10;            type : &#39;value&#39;&#10;        &#125;&#10;    ],&#10;    series : [&#10;        &#123;&#10;            &#34;name&#34;:&#34;&#38144;&#37327;&#34;,&#10;            &#34;type&#34;:&#34;bar&#34;,&#10;            &#34;data&#34;:&#123;&#123; data &#125;&#125;&#10;        &#125;&#10;    ]&#10;&#125;;&#10;&#10;// &#20026;echarts&#23545;&#35937;&#21152;&#36733;&#25968;&#25454;&#10;myChart.setOption(option);&#10;&#60;/script&#62;&#10;&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure></p>
<p>效果如下：<br><img src="http://7xnepc.com1.z0.glb.clouddn.com/echarts-1.png" alt="柱状图"></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"> &#60;!-- &#20026;ECharts&#20934;&#22791;&#19968;&#20010;&#20855;&#22791;&#22823;&#23567;&#65288;&#23485;&#39640;&#65289;&#30340;Dom --&#62;&#10;&#60;div id=&#34;main1&#34; style=&#34;height:400px; width: 80%; margin-left: 10%;&#34;&#62;&#60;/div&#62;&#10;&#60;!-- ECharts&#25991;&#20214;&#24341;&#20837; --&#62;&#10;&#60;script src=&#34;http://echarts.baidu.com/build/dist/echarts-all.js&#34;&#62;&#60;/script&#62;&#10;&#60;script type=&#34;text/javascript&#34;&#62;&#10;// &#22522;&#20110;&#20934;&#22791;&#22909;&#30340;dom&#65292;&#21021;&#22987;&#21270;echarts&#22270;&#34920;&#10;option1 = &#123;&#10;    title : &#123;&#10;        text: &#39;&#26576;&#31449;&#28857;&#29992;&#25143;&#35775;&#38382;&#26469;&#28304;&#39;,&#10;        subtext: &#39;&#32431;&#23646;&#34394;&#26500;&#39;,&#10;        x:&#39;center&#39;&#10;    &#125;,&#10;    tooltip : &#123;&#10;        trigger: &#39;item&#39;,&#10;        formatter: &#34;&#123;a&#125; &#60;br/&#62;&#123;b&#125; : &#123;c&#125; (&#123;d&#125;%)&#34;&#10;    &#125;,&#10;    legend: &#123;&#10;        orient : &#39;vertical&#39;,&#10;         x : &#39;left&#39;,&#10;         data:[&#39;&#30452;&#25509;&#35775;&#38382;&#39;,&#39;&#37038;&#20214;&#33829;&#38144;&#39;,&#39;&#32852;&#30431;&#24191;&#21578;&#39;,&#39;&#35270;&#39057;&#24191;&#21578;&#39;,&#39;&#25628;&#32034;&#24341;&#25806;&#39;]&#10;    &#125;,&#10;    toolbox: &#123;&#10;        show : true,&#10;        feature : &#123;&#10;            mark : &#123;show: true&#125;,&#10;            dataView : &#123;show: true, readOnly: false&#125;,&#10;            magicType : &#123;&#10;                show: true,&#10;                type: [&#39;pie&#39;, &#39;funnel&#39;],&#10;                option: &#123;&#10;                    funnel: &#123;&#10;                        x: &#39;25%&#39;,&#10;                        width: &#39;50%&#39;,&#10;                        funnelAlign: &#39;left&#39;,&#10;                        max: 1548&#10;                    &#125;&#10;                &#125;&#10;            &#125;,&#10;            restore : &#123;show: true&#125;,&#10;            saveAsImage : &#123;show: true&#125;&#10;        &#125;&#10;    &#125;,&#10;    calculable : true,&#10;    series : [&#10;        &#123;&#10;            name:&#39;&#35775;&#38382;&#26469;&#28304;&#39;,&#10;            type:&#39;pie&#39;,&#10;            radius : &#39;55%&#39;,&#10;            center: [&#39;50%&#39;, &#39;60%&#39;],&#10;            data:[&#10;                &#123;value:335, name:&#39;&#30452;&#25509;&#35775;&#38382;&#39;&#125;,&#10;                &#123;value:310, name:&#39;&#37038;&#20214;&#33829;&#38144;&#39;&#125;,&#10;                &#123;value:234, name:&#39;&#32852;&#30431;&#24191;&#21578;&#39;&#125;,&#10;                &#123;value:135, name:&#39;&#35270;&#39057;&#24191;&#21578;&#39;&#125;,&#10;                &#123;value:1548, name:&#39;&#25628;&#32034;&#24341;&#25806;&#39;&#125;&#10;            ]&#10;        &#125;&#10;    ]&#10;&#125;;&#10;&#10;// &#20026;echarts&#23545;&#35937;&#21152;&#36733;&#25968;&#25454;&#10;var myChart = echarts.init(document.getElementById(&#39;main1&#39;));&#10;myChart.setOption(option1);&#10;&#60;/script&#62;</span><br></pre></td></tr></table></figure>
 <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<p><div id="main1" style="height:400px; width: 80%; margin-left: 10%;"></div><br><!-- ECharts单文件引入 --></p>
<script src="http://echarts.baidu.com/build/dist/echarts-all.js"></script>
<script type="text/javascript">
// 基于准备好的dom，初始化echarts图表
option1 = {
    title : {
        text: '某站点用户访问来源',
        subtext: '纯属虚构',
        x:'center'
    },
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient : 'vertical',
         x : 'left',
         data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel'],
                option: {
                    funnel: {
                        x: '25%',
                        width: '50%',
                        funnelAlign: 'left',
                        max: 1548
                    }
                }
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    series : [
        {
            name:'访问来源',
            type:'pie',
            radius : '55%',
            center: ['50%', '60%'],
            data:[
                {value:335, name:'直接访问'},
                {value:310, name:'邮件营销'},
                {value:234, name:'联盟广告'},
                {value:135, name:'视频广告'},
                {value:1548, name:'搜索引擎'}
            ]
        }
    ]
};

// 为echarts对象加载数据
var myChart = echarts.init(document.getElementById('main1'));
myChart.setOption(option1);
</script>

</html>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://zozoz.github.io/2015/08/28/django快速搭建一个网站/" data-id="cil23nc9u00008rjgm1ruxq7j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/">django</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/09/23/BP算法/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          BP算法
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BurstDetection/">BurstDetection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NN/">NN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维/">运维</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/BurstDetection/" style="font-size: 10px;">BurstDetection</a> <a href="/tags/NN/" style="font-size: 10px;">NN</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/运维/" style="font-size: 10px;">运维</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/02/25/test/">test</a>
          </li>
        
          <li>
            <a href="/2016/02/25/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/12/16/Kleinberg/">Kleinberg</a>
          </li>
        
          <li>
            <a href="/2015/10/20/安装配置/">安装配置</a>
          </li>
        
          <li>
            <a href="/2015/09/23/BP算法/">BP算法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 ZOZOZ<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>