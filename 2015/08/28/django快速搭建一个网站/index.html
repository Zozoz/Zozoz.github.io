<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Django快速搭建一个网站 | Newbie</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Django介绍参考文档：Django官方文档   官方文档中文翻译
Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：
project_name/">
<meta property="og:type" content="article">
<meta property="og:title" content="Django快速搭建一个网站">
<meta property="og:url" content="http://zozoz.github.io/2015/08/28/django快速搭建一个网站/index.html">
<meta property="og:site_name" content="Newbie">
<meta property="og:description" content="Django介绍参考文档：Django官方文档   官方文档中文翻译
Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：
project_name/">
<meta property="og:image" content="http://7xnepc.com1.z0.glb.clouddn.com/流程图.png">
<meta property="og:updated_time" content="2016-02-25T10:00:32.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Django快速搭建一个网站">
<meta name="twitter:description" content="Django介绍参考文档：Django官方文档   官方文档中文翻译
Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：
project_name/">
  
    <link rel="alternate" href="/atom.xml" title="Newbie" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Newbie</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://zozoz.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-django快速搭建一个网站" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/08/28/django快速搭建一个网站/" class="article-date">
  <time datetime="2015-08-28T06:23:11.000Z" itemprop="datePublished">2015-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Django快速搭建一个网站
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Django介绍"><a href="#Django介绍" class="headerlink" title="Django介绍"></a>Django介绍</h2><p>参考文档：<br><a href="https://docs.djangoproject.com/en/1.8/" target="_blank" rel="external">Django官方文档</a>   <a href="http://python.usyiyi.cn/django/index.html" target="_blank" rel="external">官方文档中文翻译</a></p>
<p>Django是一个开放源代码的Web应用框架，由Python写成，基于MVC构造。但是在Django中，控制器接受用户输入的部分由框架自行处理,<br>所以Django里更关注的是模型（Model）、模板（Template）和视图（Views），称为MTV模式。一个Django应用程序的基本目录结构如下：</p>
<pre><code>project_name/
    project_name/
        __init__.py
        settings.py
        urls.py
        *views.py
        wsgi.py
    manage.py
    *static/
        base/
            css/
                bootstrap.min.css
            js/
                bootstrap.min.js
    *templates/
        index.html
        base.html
        app_name/
            show.html
    *app_name/
        __init__.py
        admin.py
        urls.py
        views.py
        models.py
        forms.py
        tests.py
</code></pre><p>模型(Model),即数据存取层———处理与数据相关的所有事务：如何存取、如何验证有效性、包含哪些行为以及数据之间的关系等.<br>模板(Template),即表现层 ———处理与表现相关的决定：如何在页面或者其他类型文档中进行显示.<br>视图(View),即业务逻辑层 ———存取模型及调取恰当模板的相关逻辑，模型与模板之间的桥梁.</p>
<h5 id="Django-如何处理一个请求"><a href="#Django-如何处理一个请求" class="headerlink" title="Django 如何处理一个请求"></a>Django 如何处理一个请求</h5><p>当一个用户请求Django站点的一个页面，下面是Django系统决定执行哪个Python代码使用的算法：</p>
<ol>
<li>Django决定要使用的根URLconf模块。通常，这个值就是<strong>ROOT_URLCONF</strong>的设置.</li>
<li>Django加载该Python模块并寻找可用的<strong>urlpatterns</strong>它是<strong>django.conf.urls.url()</strong>实例的一个Python列表。</li>
<li>Django依次匹配每个URL模式，在与请求的URL匹配的第一个模式停下来。</li>
<li>一旦其中的一个正则表达式匹配上，Django将导入并调用给出的视图,它是一个简单的Python函数(或者一个基于类的视图)。视图将获得如下参数:<ul>
<li>一个HttpRequest 实例。</li>
<li>如果匹配的正则表达式没有返回命名的组，那么正则表达式匹配的内容将作为位置参数提供给视图。</li>
<li>关键字参数由正则表达式匹配的命名组组成，但是可以被<strong>django.conf.urls.url()</strong>的可选参数kwargs覆盖。<br>如果视图返回时调用了模板，调用<code>templates</code>下面的html进行渲染展示。</li>
</ul>
</li>
<li>如果没有匹配到正则表达式，或者如果过程中抛出一个异常，Django将调用一个适当的错误处理视图。</li>
</ol>
<p><img src="http://7xnepc.com1.z0.glb.clouddn.com/流程图.png" alt="流程图 0.1"></p>
<h2 id="快速搭建一个网站"><a href="#快速搭建一个网站" class="headerlink" title="快速搭建一个网站"></a>快速搭建一个网站</h2><h3 id="安装Python和Django"><a href="#安装Python和Django" class="headerlink" title="安装Python和Django"></a>安装Python和Django</h3><p>Python 2.7.*版本，Django 1.8.3版本，由于系统的不同，安装过程稍有不同。</p>
<h3 id="网站搭建"><a href="#网站搭建" class="headerlink" title="网站搭建"></a>网站搭建</h3><h4 id="新建一个工程"><a href="#新建一个工程" class="headerlink" title="新建一个工程"></a>新建一个工程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">django-admin startproject mysite</span><br></pre></td></tr></table></figure>
<p>目录结构如上面所示，然后我们在<strong>mysite</strong>下面新建一个<code>views.py</code>视图文件，在视图文件中定义我们的视图.<br><code>mysite/views.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from django.shortcuts import render&#10;&#10;&#10;def index(request):&#10;    return render(request, &#39;index.html&#39;)</span><br></pre></td></tr></table></figure></p>
<p>在<code>templates</code>目录下面新建<code>index.html</code>文件.<br><code>templates/index.html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;html&#62;&#10;&#60;head&#62;&#60;title&#62;My First Website!&#60;/title&#62;&#60;/head&#62;&#10;&#60;body&#62;&#60;p&#62;Hello World!&#60;/p&#62;&#60;/body&#62;&#10;&#60;/html&#62;</span><br></pre></td></tr></table></figure></p>
<p>需要在<code>settings.py</code>中设置模板的路径.<br><code>mysite/settings.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATES = [&#10;    &#123;&#10;        &#39;DIRS&#39;: [os.path.join(BASE_DIR, &#39;templates&#39;)],&#10;    &#125;,&#10;]</span><br></pre></td></tr></table></figure></p>
<p>在<code>urls.py</code>中配置URL访问规则.<br><code>mysite/urls.py</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from django.conf.urls import patterns, url&#10;from . import views&#10;&#10;&#10;urlpatterns = patterns(&#39;&#39;,&#10;    url(r&#39;^$&#39;, views.index, name=&#39;index&#39;),&#10;)</span><br></pre></td></tr></table></figure></p>
<p>启动本地Django服务器运行我们的网站程序.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py runserver 8000</span><br></pre></td></tr></table></figure></p>
<p>在浏览器中打开<code>localhost:8000</code>会看到我们的欢迎页面.</p>
<h4 id="在工程下面添加一个应用"><a href="#在工程下面添加一个应用" class="headerlink" title="在工程下面添加一个应用"></a>在工程下面添加一个应用</h4><p>一个网站可能分为不同的模块，每个模块来实现不同的功能，对于每一个模块我们类比于Django中的APP，每一个APP用来实现不同的功能，使框架低耦合。<br>新建一个应用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp app_name</span><br></pre></td></tr></table></figure></p>
<p>然后在<strong>project_name/settings.py</strong>中包含这个应用.<br><code>settings.py</code></p>
<pre><code>INSTALLED_APPS = (
    ...,
    &apos;app_name&apos;,
)
</code></pre><p>运行<code>python manage.py startapp sample</code>新建一个名为<strong>sample</strong>的应用，来展示我们的例子.</p>
<h4 id="URL调度器"><a href="#URL调度器" class="headerlink" title="URL调度器"></a>URL调度器</h4><p>官方文档 <a href="http://python.usyiyi.cn/django/topics/http/urls.html#error-handling" target="_blank" rel="external">中文</a> <a href="https://docs.djangoproject.com/en/1.8/topics/http/urls/" target="_blank" rel="external">英文</a><br>简洁、优雅的URL模式在高质量的Web应用中是非常重要的细节。Django中为了给一个应用设计URL，需要创建一个Python模块，通常称为<strong>URLconf</strong>(URL configuration,就是前面的<code>urls.py</code>).<br>这个模块是纯粹的Python代码，它包含URL模式（简单的正则表达式）到Python函数或类（<code>views.py</code>中的函数或类）的简单映射。<br>下面是一个简单的例子：<br><code>mysite/urls.py</code></p>
<pre><code>from django.conf.urls import include, url
from . import views
urlpatterns = [
    # url(r&apos;^admin/&apos;, include(admin.site.urls)),
    url(r&apos;^$&apos;, views.index, name=&quot;index&quot;),
    url(r&apos;^sample/&apos;, include(&apos;sample.urls&apos;, namespace=&quot;sample&quot;)),
]
</code></pre><p><code>sample/urls.py</code></p>
<pre><code>from django.conf.urls import url
from . import views
urlpatterns = [
    url(r&apos;^$&apos;, views.index, name=&apos;index&apos;),
    url(r&apos;^([0-9]{2})$&apos;, views.show_1, name=&apos;show_1&apos;),
    url(r&apos;^(?P&lt;year&gt;[0-9]{4})&apos;, views.show_2, name=&apos;show_2&apos;),
]
</code></pre><ul>
<li>在任何时候,urlpatterns都可以包含其他URLconf模块。这实际上是将包含的URL放置在此处。例如在上面中，把APP中的URLconf包含在<strong>ROOT_URLCONF</strong>中。</li>
<li>上面的示例中使用简单的正则表达式对URL进行匹配，符合Python的正则表达式语法。例如，可以通过圆括号来捕获URL中的值并以位置参数传递给视图，通过命名正则表达式组(?P&lt;name&gt;pattern)，其中name是组的名字，pattern是要匹配的模式，来传递命名参数给视图。</li>
<li>匹配按照顺序从上往下进行，直到匹配到满足的结束。</li>
</ul>
<h4 id="模板语言"><a href="#模板语言" class="headerlink" title="模板语言"></a>模板语言</h4><p>Django的模板系统将页面的设计从Python中分离出来，前台页面只需接收后台视图传递过来的数据，动态地展示页面。<br><code>templates/navbar.html</code><br>

    <html>
    <head><title>{% block title %}{% endblock %}</title></head>
    <body>
    {% block content %}{% endblock content %}
    </body>
    </html>

</p>
<p><code>templates/sample/show.html</code><br>
    {% extends "navbar.html" %}
    {% block title %} Sample Page {% endblock %}
    {% block content %}

    {% if index %}
        </p><p>I am sample!</p>
    {% else%}
        {% if value|length_is:"4" %}
            <p>The year is {{ value }}</p>
        {% elif value|length_is:"2" %}
            <p>The month is {{ value }}</p>
        {% endif %}
    {% endif %}
    <p>My name is {{ info.name }}, enrolled in {{ info.enroll }}.</p>
    {# I am comments. #}
    {% endblock %}

- {{ variable }} 表示一个变量,当模版引擎遇到一个变量，它将计算这个变量，然后用结果替换掉它本身。变量的命名包括任何字母数字以及下划线 ("_")的组合。点(".") 也在会变量部分中出现，不过它有特殊的含义，当模板系统遇到点(".")，它将以这样的顺序查询：
    - 字典查询
    - 属性或方法查询
    - 数字索引查询
- {% tag %} 表示一个标签，Django自带了大约24个内置的模版标签。可以在[内置标签参考手册](http://python.usyiyi.cn/django/ref/templates/builtins.html#ref-templates-builtins-tags)中阅读全部关于它们的内容。
- {{ value|length_is:"4" }} 表示一个过滤器,Django提供了大约六十个内置的模版过滤器。你可以在[内置过滤器参考手册](http://python.usyiyi.cn/django/ref/templates/builtins.html#ref-templates-builtins-filters)中阅读全部关于它们的信息。
- {#  #} 表示一个单行注释， {% comment %}和{% endcomment %}表示多行注释，之间的内容会被忽略。
- {% csrf_token %} 是一个跨站请求伪造保护标签，在提交表单中需要添加。
- {% extends "*.html" %} 表示一个模板继承标签，当模板系统处理这个模板时，首先，它将定位父模板，并用子模板中的内容来替换父模板中的block标签中的内容。

<p></p>
<h4 id="视图模块"><a href="#视图模块" class="headerlink" title="视图模块"></a>视图模块</h4><p>一个视图函数，简称视图，是一个简单的Python 函数，它接受Web请求并且返回Web响应。响应可以是一张网页的HTML内容，一个重定向，一个404错误，一个XML文档，或者一张图片. . . 是任何东西都可以。无论视图本身包含什么逻辑，都要返回响应。代码写在哪里也无所谓，只要它在你的Python目录下面。除此之外没有更多的要求了——可以说“没有什么神奇的地方”。为了能够把代码放在某个地方，惯例是把视图放在叫做views.py的文件中，然后把它放到你的项目或者应用目录里。<br><code>sample/views.py</code></p>
<pre><code>from django.shortcuts import render


def index(request):
    return render(request, &apos;sample/show.html&apos;, {
        &apos;index&apos;: True
    })

def show_1(request, month):
    return render(request, &apos;sample/show.html&apos;, {
        &apos;value&apos;: month
    })

def show_2(request, year):
    info = {&apos;name&apos;: &apos;newbie&apos;, &apos;enroll&apos;: year}
    return render(request, &apos;sample/show.html&apos;, {
        &apos;value&apos;: year,
        &apos;info&apos;: info,
    })
</code></pre><p>视图模块主要是进行业务逻辑的处理，然后返回一个<strong>HttpResponse</strong>对象。<br>主要介绍一下表单。</p>
<h5 id="HTML表单"><a href="#HTML表单" class="headerlink" title="HTML表单"></a><a href="http://python.usyiyi.cn/django/topics/forms/index.html" target="_blank" rel="external">HTML表单</a></h5><p>在HTML中，表单是位于&lt;form&gt;…&lt;/form&gt; 之间的元素的集合，它们允许访问者输入文本、选择选项、操作对象和控制等等，然后将信息发送回服务器。<br>处理表单是一件很复杂的事情。考虑一下Django 的Admin 站点，不同类型的大量数据项需要在一个表单中准备好、渲染成HTML、使用一个方便的界面编辑、返回给服务器、验证并清除，然后保存或者向后继续处理。</p>
<p>Django 的表单功能可以简化并自动化大部分这些工作，而且还可以比大部分程序员自己所编写的代码更安全。</p>
<p>Django 会处理表单工作中的三个显著不同的部分：</p>
<ul>
<li>准备并重新构造数据</li>
<li>为数据创建HTML 表单</li>
<li>接收并处理客户端提交的表单和数据<br>可以手工编写代码来实现，但是Django 可以帮你完成所有这些工作。</li>
</ul>
<p>在Django中构建一个表单<br><code>sample/forms.py</code><br>

    from django import forms


    class NameForm（forms.Form):
        your_name = forms.CharField(label='Your name', max_length=100, required=True)
        age = forms.IntegerField(initial=0)
</p>
<p>表单系统的核心部分是Django的<a href="http://python.usyiyi.cn/django/ref/forms/fields.html" target="_blank" rel="external">Form</a>类.Django 的模型描述一个对象的逻辑结构、行为以及展现给我们的方式，与此类似，Form 类描述一个表单并决定它如何工作和展现.<br>就像模型类的属性映射到数据库的属性一样，表单类的<a href="http://python.usyiyi.cn/django/ref/forms/fields.html" target="_blank" rel="external">字段</a>会映射到HTML 的&lt;input&gt;表单的元素.<br>表单的字段本身也是类；它们管理表单的数据并在表单提交时进行验证。</p>
<p><code>templates/sample/form.html</code><br>

    {% extends "base.html" %}
    {% block title %} Sample Page {% endblock %}
    {% block content %}

    <form action="{% url " sample:get_name"="" %}"="" method="post">
        {% csrf_token %}
        {{ form }}
        <input type="submit" value="Submit">
    </form>

    {% endblock %}


`sample/views.py`
<!--￼7-->

`sample/success.html`

    <html>
        <head><title>Success</title>title></head>head>
         <body>
            <p>Success!</p>p>
            <p>Your name is {{ name }}, aged {{ age }}.</p>p>
            <a href="{% url "sample:get_name" %}">返回</a>a>
         </body>
    </html>

</p>
<h4 id="建立数据库连接"><a href="#建立数据库连接" class="headerlink" title="建立数据库连接"></a>建立数据库连接</h4><p>由于我们需要从数据库中读取我们抓取的热点新闻信息，所以需要连接数据库，这里我们采用MYSQL.<br>在<strong>project_name/settings.py</strong>中默认的数据库是Python自带的SQLite3，所以我们需要修改一下配置.</p>
<p><code>settings.py</code></p>
<pre><code>DATABASES = {
    &apos;default&apos;: {
        &apos;ENGINE&apos;: &apos;django.db.backends.mysql&apos;, # database engine
        &apos;NAME&apos;: &apos;nust_visual_platform&apos;, # schema name
        &apos;USER&apos;: &apos;root&apos;, # mysql username
        &apos;HOST&apos;: &apos;localhost&apos;, # mysql host
        &apos;PASSWORD&apos;: &apos;&apos;, # mysql password
        &apos;PORT&apos;: &apos;3306&apos;} # mysql port
}
</code></pre><p>我们需要在MYSQL中新建一个schema，剩下的所有对数据库的操作都不需要我们手动处理，Django会为我们代劳.</p>
<p>新建一个数据库表：</p>
<ol>
<li><p>在<code>wangyi</code>下面新建<code>models.py</code>模型文件，然后在文件中定义我们的数据库表.</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">from django.db import models&#10;&#10;&#10;class WangyiArticle&#65288;models.Model):&#10;    docid = models.CharField(primary_key=True, max_length=50)&#10;    votecount = models.IntegerField(default=0)&#10;    content = models.TextField()&#10;    ptime = models.DateTimeField()</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>具体细节可查看Django提供的全部模型字段的<a href="http://python.usyiyi.cn/django/ref/models/fields.html#field-options" target="_blank" rel="external">字段选项</a>和<a href="http://python.usyiyi.cn/django/ref/models/fields.html#field-types" target="_blank" rel="external">字段类型</a>的API。</p>
<p>2.运行命令来生成产生数据表的SQL代码.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py makemigrations wangyi</span><br></pre></td></tr></table></figure></p>
<p>我们可以看到类似下面的信息：</p>
<pre><code>Migrations for &apos;wangyi&apos;:
    0001_initial.py:
        - Create model WangyiArticle
</code></pre><p>3.在数据库中生成数据表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate wangyi</span><br></pre></td></tr></table></figure></p>
<p>如果你的数据库中其实已经有这张表存在了，就不要执行SQL去改变数据表，这时需要运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py migrate wangyi --fake-initial</span><br></pre></td></tr></table></figure></p>
<p>4.对数据表进行URD操作<br>对数据表的操作可以在<code>models.py</code>中也可以在<code>views.py</code>中，这里我们只介绍如何在<code>views.py</code>中操作数据表.<br>遍历数据表：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WangyiArticle.objects</span><br></pre></td></tr></table></figure></p>
<p>对获取的数据进行筛选：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">WangyiArticle.objects.filter(ptime__lt=today)&#10;                     .filter(mtime__gel=yesterday)&#10;                     .filter(parent_id=&#39;&#39;)&#10;                     .order_by(&#39;-votecount&#39;)[:10]</span><br></pre></td></tr></table></figure></p>
<p>Django的ORM(Object Relational Mapping)功能很强大，具体的其他细节可以参考<a href="https://docs.djangoproject.com/en/1.8/topics/db/" target="_blank" rel="external">官方文档</a></p>
<h4 id="自动分页功能"><a href="#自动分页功能" class="headerlink" title="自动分页功能"></a>自动分页功能</h4><h5 id="1-安装"><a href="#1-安装" class="headerlink" title="1. 安装"></a>1. 安装</h5><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-pagination</span><br></pre></td></tr></table></figure>
<h5 id="2-配置"><a href="#2-配置" class="headerlink" title="2. 配置"></a>2. 配置</h5><p><a href="https://pypi.python.org/pypi/django-pagination" target="_blank" rel="external">参考官方文档</a></p>
<p>说明：django1.4开始，<code>TEMPLATE_CONTEXT_PROCESSORS</code>不显示在<code>settings.py</code>文件中，此时需要自己添加<br>在<code>settings.py</code>开头添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import django.conf.global_settings as DEFAULT_SETTINGS</span><br></pre></td></tr></table></figure></p>
<p>在配置最后添加<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">TEMPLATE_CONTEXT_PROCESSORS = DEFAULT_SETTINGS.TEMPLATE_CONTEXT_PROCESSORS + (</span><br><span class="line">    <span class="string">"django.contrib.auth.context_processors.auth"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.debug"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.i18n"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.media"</span>,</span><br><span class="line">    <span class="string">"django.core.context_processors.request"</span>,</span><br><span class="line">)</span><br></pre></td></tr></table></figure></p>
<h5 id="3-修改默认样式"><a href="#3-修改默认样式" class="headerlink" title="3. 修改默认样式"></a>3. 修改默认样式</h5><p>将<code>site-packages/pagination/templates/pagination/pagination.html</code>文件复制<br>到<code>your_own_templates/pagination/pagination.html</code>，然后修改这个文件就可以了.</p>
<h5 id="4-参阅资料"><a href="#4-参阅资料" class="headerlink" title="4. 参阅资料"></a>4. 参阅资料</h5><p><a href="http://www.django-china.cn/topic/53/" target="_blank" rel="external">七部教你实现Django网站列表自动分页</a></p>
<h2 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h2><p><a href="http://v3.bootcss.com/" target="_blank" rel="external">中文文档</a> <a href="http://getbootstrap.com/" target="_blank" rel="external">英文文档</a></p>
<p>Bootstrap，来自 Twitter，是目前很受欢迎的前端框架。Bootstrap 是基于 HTML、CSS、JAVASCRIPT 的，它简洁灵活，使得 Web 开发更加快捷,是非专业网站开发人员优雅展示自己成果的利器。<br>Bootstrap是基于HTML5和CSS3开发的，它在jQuery的基础上进行了更为个性化和人性化的完善，形成一套自己独有的网站风格，并兼容大部分jQuery插件。<br>Bootstrap中包含了丰富的Web组件，根据这些组件，可以快速的搭建一个漂亮、功能完备的网站。其中包括以下组件：<br>下拉菜单、按钮组、按钮下拉菜单、导航、导航条、路径导航、分页、排版、缩略图、警告对话框、进度条、媒体对象等。</p>
<p>我们可以很方便的把Bootstrap加入到我们的网站之中，以上面的项目为例。<br><code>templates/base.html</code><br>

    <html>
        <head>
            <title>{% block title %}{% endblock %}</title>
            {% load staticfiles %}
            <link rel="stylesheet" type="text/css" href="{% static " base="" css="" bootstrap.min.css"="" %}"="">
            <script src="{% static " base="" js="" jquery-2.1.4.min.js"="" %}"=""></script>
            <script src="{% static " base="" js="" bootstrap.min.js"="" %}"=""></script>
        </head>
        <body>
            {% block content %}{% endblock content %}
        </body>
    
只需要把bootstrap的css文件引入HTML中就可以使用它的CSS样式，但是必须在引入bootstrap.js文件之前先引入jQuery文件才能使用javascript插件。


在这里说一下Django的[静态文件](http://python.usyiyi.cn/django/intro/tutorial06.html)。
除了由服务器生成的HTML文件外，网页应用一般需要提供其它必要的文件 —— 比如图片文件、JavaScript脚本和CSS样式表 —— 来为用户呈现出一个完整的网站。 在Django中，我们将这些文件称为“静态文件”。
首先在mysite中创建一个static目录.Django将在那里查找静态文件，这与Django是如何在`templates`中寻找对应的模板文件的方式是一致的.需要在配置文件中设置静态文件查找目录.
`settings.py`
<!--￼17-->

{% load staticfiles %} 从staticfiles模板库加载{% static %} 模板标签。{% static %}模板标签会生成静态文件的绝对URL。

</html></p>
<hr>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#60;!-- Standard button --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-default&#34;&#62;&#65288;&#40664;&#35748;&#26679;&#24335;&#65289;Default&#60;/button&#62;&#10;&#10;&#60;!-- Provides extra visual weight and identifies the primary action in a set of buttons --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-primary&#34;&#62;&#65288;&#39318;&#36873;&#39033;&#65289;Primary&#60;/button&#62;&#10;&#10;&#60;!-- Indicates a successful or positive action --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-success&#34;&#62;&#65288;&#25104;&#21151;&#65289;Success&#60;/button&#62;&#10;&#10;&#60;!-- Contextual button for informational alert messages --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-info&#34;&#62;&#65288;&#19968;&#33324;&#20449;&#24687;&#65289;Info&#60;/button&#62;&#10;&#10;&#60;!-- Indicates caution should be taken with this action --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-warning&#34;&#62;&#65288;&#35686;&#21578;&#65289;Warning&#60;/button&#62;&#10;&#10;&#60;!-- Indicates a dangerous or potentially negative action --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-danger&#34;&#62;&#65288;&#21361;&#38505;&#65289;Danger&#60;/button&#62;&#10;&#10;&#60;!-- Deemphasize a button by making it look like a link while maintaining button behavior --&#62;&#10;&#60;button type=&#34;button&#34; class=&#34;btn btn-link&#34;&#62;&#65288;&#38142;&#25509;&#65289;Link&#60;/button&#62;</span><br></pre></td></tr></table></figure>
<!-- 新 Bootstrap 核心 CSS 文件 -->
<link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css">

<!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
<script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>

<!-- 最新的 Bootstrap 核心 JavaScript 文件 -->
<script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

<!-- Standard button -->
<button type="button" class="btn btn-default">（默认样式）Default</button>

<!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
<button type="button" class="btn btn-primary">（首选项）Primary</button>

<!-- Indicates a successful or positive action -->
<button type="button" class="btn btn-success">（成功）Success</button>

<!-- Contextual button for informational alert messages -->
<button type="button" class="btn btn-info">（一般信息）Info</button>

<!-- Indicates caution should be taken with this action -->
<button type="button" class="btn btn-warning">（警告）Warning</button>

<!-- Indicates a dangerous or potentially negative action -->
<button type="button" class="btn btn-danger">（危险）Danger</button>

<!-- Deemphasize a button by making it look like a link while maintaining button behavior -->
<button type="button" class="btn btn-link">（链接）Link</button>


<h2 id="E-charts"><a href="#E-charts" class="headerlink" title="E-charts"></a>E-charts</h2><p><a href="http://echarts.baidu.com/index.html" target="_blank" rel="external">官方文档</a></p>
<p>ECharts，缩写来自Enterprise Charts，商业级数据图表，一个纯Javascript的图表库，可以流畅的运行在PC和移动设备上，兼容当前绝大部分浏览器（IE6/7/8/9/10/11，chrome，firefox，Safari等），底层依赖轻量级的Canvas类库ZRender，提供直观，生动，可交互，可高度个性化定制的数据可视化图表。创新的拖拽重计算、数据视图、值域漫游等特性大大增强了用户体验，赋予了用户对数据进行挖掘、整合的能力。</p>
<p>支持折线图（区域图）、柱状图（条状图）、散点图（气泡图）、K线图、饼图（环形图）、雷达图（填充雷达图）、和弦图、力导向布局图、地图、仪表盘、漏斗图、事件河流图等12类图表，同时提供标题，详情气泡、图例、值域、数据区域、时间轴、工具箱等7个可交互组件，支持多图表、组件的联动和混搭展现。</p>
<p>以我们的项目为例，可以很方便的使用Echarts进行数据可视化。<br><code>templates/sample/echarts.html</code><br>
<!--￼19-->

效果如下：
![柱状图](http://7xnepc.com1.z0.glb.clouddn.com/echarts-1.png)

</p>
<hr>


<!--￼20-->


 <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
<p><div id="main1" style="height:400px; width: 80%; margin-left: 10%;"></div><br><!-- ECharts单文件引入 --></p>
<script src="http://echarts.baidu.com/build/dist/echarts-all.js"></script>
<script type="text/javascript">
// 基于准备好的dom，初始化echarts图表
option1 = {
    title : {
        text: '某站点用户访问来源',
        subtext: '纯属虚构',
        x:'center'
    },
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient : 'vertical',
         x : 'left',
         data:['直接访问','邮件营销','联盟广告','视频广告','搜索引擎']
    },
    toolbox: {
        show : true,
        feature : {
            mark : {show: true},
            dataView : {show: true, readOnly: false},
            magicType : {
                show: true,
                type: ['pie', 'funnel'],
                option: {
                    funnel: {
                        x: '25%',
                        width: '50%',
                        funnelAlign: 'left',
                        max: 1548
                    }
                }
            },
            restore : {show: true},
            saveAsImage : {show: true}
        }
    },
    calculable : true,
    series : [
        {
            name:'访问来源',
            type:'pie',
            radius : '55%',
            center: ['50%', '60%'],
            data:[
                {value:335, name:'直接访问'},
                {value:310, name:'邮件营销'},
                {value:234, name:'联盟广告'},
                {value:135, name:'视频广告'},
                {value:1548, name:'搜索引擎'}
            ]
        }
    ]
};

// 为echarts对象加载数据
var myChart = echarts.init(document.getElementById('main1'));
myChart.setOption(option1);
</script>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://zozoz.github.io/2015/08/28/django快速搭建一个网站/" data-id="cil23nc9u00008rjgm1ruxq7j" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/">django</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/09/23/BP算法/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          BP算法
        
      </div>
    </a>
  
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BurstDetection/">BurstDetection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NN/">NN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维/">运维</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/BurstDetection/" style="font-size: 10px;">BurstDetection</a> <a href="/tags/NN/" style="font-size: 10px;">NN</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/运维/" style="font-size: 10px;">运维</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/02/25/test/">test</a>
          </li>
        
          <li>
            <a href="/2016/02/25/hello-world/">Hello World</a>
          </li>
        
          <li>
            <a href="/2015/12/16/Kleinberg/">Kleinberg</a>
          </li>
        
          <li>
            <a href="/2015/10/20/安装配置/">安装配置</a>
          </li>
        
          <li>
            <a href="/2015/09/23/BP算法/">BP算法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 ZOZOZ<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">
  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>